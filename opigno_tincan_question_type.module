<?php

/**
 * @file
 * The main module file which contains the main drupal hooks.
 */

/**
 * Implements hook_quiz_question_info().
 */
function opigno_tincan_question_type_quiz_question_info() {
  return array(
    'opigno_tincan_question_type' => array(
      'name' => t('TinCan Package'),
      'description' => t('Quiz questions that allow a user to answer to a TinCan package.'),
      'question provider' => 'OpignoTincanQuestionTypeQuestion',
      'response provider' => 'OpignoTincanQuestionTypeResponse',
      'module' => 'quiz_question',
    ),
  );
}

/**
 * Implements hook_config().
 */
function opigno_tincan_question_type_config() {
  return FALSE;
}

/**
 * Implements hook_file_delete().
 */
function opigno_tincan_question_type_file_delete($file) {
  // Delete the extracted files that are in the extracted folder.
  $len = strlen(OpignoTincanQuestionTypeQuestion::PATH_PUBLIC_PACKAGE_FOLDER);
  if (substr($file->uri, 0, $len) === OpignoTincanQuestionTypeQuestion::PATH_PUBLIC_PACKAGE_FOLDER) {
    file_unmanaged_delete_recursive(OpignoTincanQuestionTypeQuestion::getExtractPath($file));
  }
}
